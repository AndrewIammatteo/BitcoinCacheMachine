config:
  limits.cpu: "6"
  limits.memory: "4096MB"    

  user.network-config: |
    version: 1
    config:      
      # outbound Internet
      - type: physical
        name: eth0
        subnets:
          - type: dhcp
            ipv4: true
            control: auto

      # for access to cachestack
      - type: physical
        name: eth1
        subnets:
          - type: dhcp
            ipv4: true
            control: auto
      
      # swarm managernet
      - type: physical
        name: eth2
        subnets:
          - type: dhcp
            ipv4: true
            control: auto

description:
devices:
  
  # bitcoin host needs outbound access to expose TOR services
  eth0:
    nictype: bridged
    parent: lxdbrBitcoin
    type: nic

  # for access to cachestack
  eth1:
    nictype: bridged
    parent: lxdbrBCMCSBrdg
    type: nic

  # for connection to managers
  eth2:
    nictype: bridged
    parent: managernet
    type: nic

  root:
    path: /
    pool: bcm_data
    type: disk
name: lxd_profile_proxy_host
