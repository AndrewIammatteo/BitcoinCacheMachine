# bcm-gateway squid is configured a an 'explicit forward proxy'

An explicit proxy is one in which the client is explicitly configured to use the proxy, and as such are aware of the existence of the proxy on the network. When the client sends packets to an explicit proxy, they are addressed to the proxy server listening address and port. Squid usually listens for explicit traffic on TCP port 3128 but TCP port 8080 is a common explicit proxy listening port. Explicit proxy deployments are forward proxy deployments, where the clients can make use of the caching and optimisation features of the proxy when making outbound requests. An explicit proxy can be involved in authentication of the client, typically by issuing a 407 HTTP response. Connections to HTTPS sites through an explicit proxy will use the CONNECT HTTP method. This article discusses this type of proxy deployment.

`bcm-gateway` runs the squid instance and is therefore available on the underlay network in distributed deployments. `bcm-gateway` is configured to use the squid instance on `bcm-gateway` as an *explicit forward proxy*.  `docker info` in `bcm-gateway` demonstrates the daemon is configured to use the appropriate HTTP and HTTPS proxy at `gateway.bcm`. The squid stack on `bcm-gateway` exposes HTTP on TCP 3128 and HTTPS on TCP 3130.

## This proxy is configured:

Explicit - the client (lxc hosts connecting to bcmnet) has to specify the forward proxy (ie. 'squid.bcmnet:3128'). The client will use CONNECT messages to interface with the squid proxy and help it negotiate a connection to the destination. Implicit mode IS NOT IMPLEMENTED, which is where `bcm-gateway` would perform a man-in-the-middle attack. This helps mitigate the impact of a compromised `bcm-gateway` lxc host.